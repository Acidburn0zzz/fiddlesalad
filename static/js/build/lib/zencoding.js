var ZenCodingCodeMirrorConfig=window.ZenCodingCodeMirrorConfig||{},ZenCodingCodeMirror=function(){function a(a,b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])}function b(a,b){for(var c=0;c<a.length;c++)b(a[c])}function c(a){return document.createElementNS&&document.documentElement.namespaceURI!==null?document.createElementNS("http://www.w3.org/1999/xhtml",a):document.createElement(a)}function d(a,b){var d=c("div"),e=c("div");d.style.position="absolute",d.style.height="100%";if(d.style.setExpression)try{d.style.setExpression("height","this.previousSibling.offsetHeight + 'px'")}catch(f){}return d.style.top="0px",d.style.left="0px",d.style.overflow="hidden",a.appendChild(d),e.className="ZenCodingCodeMirror-line-numbers",d.appendChild(e),e.innerHTML="<div>"+b+"</div>",d}function e(a){typeof a.parserfile=="string"&&(a.parserfile=[a.parserfile]),typeof a.basefiles=="string"&&(a.basefiles=[a.basefiles]),typeof a.stylesheet=="string"&&(a.stylesheet=[a.stylesheet]);var c=' spellcheck="'+(a.disableSpellcheck?"false":"true")+'"',d=['<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html'+c+"><head>"];d.push('<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"/>');var e=a.noScriptCaching?"?nocache="+(new Date).getTime().toString(16):"";return b(a.stylesheet,function(a){d.push('<link rel="stylesheet" type="text/css" href="'+a+e+'"/>')}),b(a.basefiles.concat(a.parserfile),function(b){/^https?:/.test(b)||(b=a.path+b),d.push('<script type="text/javascript" src="'+b+e+'"><'+"/script>")}),d.push('</head><body style="border-width: 0;" class="editbox"'+c+"></body></html>"),d.join("")}function g(b,g){this.options=g=g||{},a(g,ZenCodingCodeMirrorConfig),g.dumbTabs?g.tabMode="spaces":g.normalTab&&(g.tabMode="default"),g.cursorActivity&&(g.onCursorActivity=g.cursorActivity);var h=this.frame=c("iframe");g.iframeClass&&(h.className=g.iframeClass),h.frameBorder=0,h.style.border="0",h.style.width="100%",h.style.height="100%",h.style.display="block";var i=this.wrapping=c("div");i.style.position="relative",i.className="ZenCodingCodeMirror-wrapping",i.style.width=g.width,i.style.height=g.height=="dynamic"?g.minHeight+"px":g.height;var j=this.textareaHack=c("textarea");i.appendChild(j),j.style.position="absolute",j.style.left="-10000px",j.style.width="10px",j.tabIndex=1e5,h.ZenCodingCodeMirror=this,g.domain&&f?(this.html=e(g),h.src="javascript:(function(){document.open();"+(g.domain?'document.domain="'+g.domain+'";':"")+"document.write(window.frameElement.ZenCodingCodeMirror.html);document.close();})()"):h.src="javascript:;",b.appendChild?b.appendChild(i):b(i),i.appendChild(h),g.lineNumbers&&(this.lineNumbers=d(i,g.firstLineNumber)),this.win=h.contentWindow;if(!g.domain||!f)this.win.document.open(),this.win.document.write(e(g)),this.win.document.close()}a(ZenCodingCodeMirrorConfig,{stylesheet:[],path:"",parserfile:[],basefiles:["util.js","stringstream.js","select.js","undo.js","editor.js","tokenize.js"],iframeClass:null,passDelay:200,passTime:50,lineNumberDelay:200,lineNumberTime:50,continuousScanning:!1,saveFunction:null,onLoad:null,onChange:null,undoDepth:50,undoDelay:800,disableSpellcheck:!0,textWrapping:!0,readOnly:!1,width:"",height:"300px",minHeight:100,autoMatchParens:!1,markParen:null,unmarkParen:null,parserConfig:null,tabMode:"indent",enterMode:"indent",electricChars:!0,reindentOnLoad:!1,activeTokens:null,onCursorActivity:null,lineNumbers:!1,firstLineNumber:1,onLineNumberClick:null,indentUnit:2,domain:null,noScriptCaching:!1,incrementalLoading:!1});var f=document.selection&&window.ActiveXObject&&/MSIE/.test(navigator.userAgent);return g.prototype={init:function(){this.options.initCallback&&this.options.initCallback(this),this.options.onLoad&&this.options.onLoad(this),this.options.lineNumbers&&this.activateLineNumbers(),this.options.reindentOnLoad&&this.reindent(),this.options.height=="dynamic"&&this.setDynamicHeight()},getCode:function(){return this.editor.getCode()},setCode:function(a){this.editor.importCode(a)},selection:function(){return this.focusIfIE(),this.editor.selectedText()},reindent:function(){this.editor.reindent()},reindentSelection:function(){this.focusIfIE(),this.editor.reindentSelection(null)},focusIfIE:function(){this.win.select.ie_selection&&document.activeElement!=this.frame&&this.focus()},focus:function(){this.win.focus(),this.editor.selectionSnapshot&&this.win.select.setBookmark(this.win.document.body,this.editor.selectionSnapshot)},replaceSelection:function(a){return this.focus(),this.editor.replaceSelection(a),!0},replaceChars:function(a,b,c){this.editor.replaceChars(a,b,c)},getSearchCursor:function(a,b,c){return this.editor.getSearchCursor(a,b,c)},undo:function(){this.editor.history.undo()},redo:function(){this.editor.history.redo()},historySize:function(){return this.editor.history.historySize()},clearHistory:function(){this.editor.history.clear()},grabKeys:function(a,b){this.editor.grabKeys(a,b)},ungrabKeys:function(){this.editor.ungrabKeys()},setParser:function(a,b){this.editor.setParser(a,b)},setSpellcheck:function(a){this.win.document.body.spellcheck=a},setStylesheet:function(a){typeof a=="string"&&(a=[a]);var b={},c={},d=this.win.document.getElementsByTagName("link");for(var e=0,f;f=d[e];e++)if(f.rel.indexOf("stylesheet")!==-1)for(var g=0;g<a.length;g++){var h=a[g];f.href.substring(f.href.length-h.length)===h&&(b[f.href]=!0,c[h]=!0)}for(var e=0,f;f=d[e];e++)f.rel.indexOf("stylesheet")!==-1&&(f.disabled=!(f.href in b));for(var g=0;g<a.length;g++){var h=a[g];if(!(h in c)){var f=this.win.document.createElement("link");f.rel="stylesheet",f.type="text/css",f.href=h,this.win.document.getElementsByTagName("head")[0].appendChild(f)}}},setTextWrapping:function(a){if(a==this.options.textWrapping)return;this.win.document.body.style.whiteSpace=a?"":"nowrap",this.options.textWrapping=a,this.lineNumbers&&(this.setLineNumbers(!1),this.setLineNumbers(!0))},setIndentUnit:function(a){this.win.indentUnit=a},setUndoDepth:function(a){this.editor.history.maxDepth=a},setTabMode:function(a){this.options.tabMode=a},setEnterMode:function(a){this.options.enterMode=a},setLineNumbers:function(a){a&&!this.lineNumbers?(this.lineNumbers=d(this.wrapping,this.options.firstLineNumber),this.activateLineNumbers()):!a&&this.lineNumbers&&(this.wrapping.removeChild(this.lineNumbers),this.wrapping.style.paddingLeft="",this.lineNumbers=null)},cursorPosition:function(a){return this.focusIfIE(),this.editor.cursorPosition(a)},firstLine:function(){return this.editor.firstLine()},lastLine:function(){return this.editor.lastLine()},nextLine:function(a){return this.editor.nextLine(a)},prevLine:function(a){return this.editor.prevLine(a)},lineContent:function(a){return this.editor.lineContent(a)},setLineContent:function(a,b){this.editor.setLineContent(a,b)},removeLine:function(a){this.editor.removeLine(a)},insertIntoLine:function(a,b,c){this.editor.insertIntoLine(a,b,c)},selectLines:function(a,b,c,d){this.win.focus(),this.editor.selectLines(a,b,c,d)},nthLine:function(a){var b=this.firstLine();for(;a>1&&b!==!1;a--)b=this.nextLine(b);return b},lineNumber:function(a){var b=0;while(a!==!1)b++,a=this.prevLine(a);return b},jumpToLine:function(a){typeof a=="number"&&(a=this.nthLine(a)),this.selectLines(a,0),this.win.focus()},currentLine:function(){return this.lineNumber(this.cursorLine())},cursorLine:function(){return this.cursorPosition().line},cursorCoords:function(a){return this.editor.cursorCoords(a)},activateLineNumbers:function(){function j(){if(a.offsetWidth==0)return;for(var c=a;c.parentNode;c=c.parentNode);if(!f.parentNode||c!=document||!b.Editor){try{l()}catch(d){}clearInterval(m);return}f.offsetWidth!=i&&(i=f.offsetWidth,a.parentNode.style.paddingLeft=i+"px")}function k(){f.scrollTop=e.scrollTop||d.documentElement.scrollTop||0}function n(b){var d=g.firstChild.offsetHeight;if(d==0)return;var f=50+Math.max(e.offsetHeight,Math.max(a.offsetHeight,e.scrollHeight||0)),i=Math.ceil(f/d);for(var j=g.childNodes.length;j<=i;j++){var k=c("div");k.appendChild(document.createTextNode(b?String(j+h.options.firstLineNumber):"\u00a0")),g.appendChild(k)}}function o(){function a(){n(!0),k()}h.updateNumbers=a;var c=b.addEventHandler(b,"scroll",k,!0),d=b.addEventHandler(b,"resize",a,!0);l=function(){c(),d(),h.updateNumbers==a&&(h.updateNumbers=null)},a()}function p(){function o(a,b){d||(d=g.appendChild(c("div"))),m&&m(d,b,a),j.push(d),j.push(a),i=d.offsetHeight+d.offsetTop,d=d.nextSibling}function p(){for(var a=0;a<j.length;a+=2)j[a].innerHTML=j[a+1];j=[]}function q(){if(!g.parentNode||g.parentNode!=h.lineNumbers)return;var c=(new Date).getTime()+h.options.lineNumberTime;while(a){o(f++,a.previousSibling);for(;a&&!b.isBR(a);a=a.nextSibling){var e=a.offsetTop+a.offsetHeight;while(g.offsetHeight&&e-3>i){var j=i;o("&nbsp;");if(i<=j)break}}a&&(a=a.nextSibling);if((new Date).getTime()>c){p(),s=setTimeout(q,h.options.lineNumberDelay);return}}while(d)o(f++);p(),k()}function r(b){k(),n(b),a=e.firstChild,d=g.firstChild,i=0,f=h.options.firstLineNumber,q()}function t(){s&&clearTimeout(s),h.editor.allClean()?r():s=setTimeout(t,200)}var a,d,f,i,j=[],m=h.options.styleNumbers;r(!0);var s=null;h.updateNumbers=t;var u=b.addEventHandler(b,"scroll",k,!0),v=b.addEventHandler(b,"resize",t,!0);l=function(){s&&clearTimeout(s),h.updateNumbers==t&&(h.updateNumbers=null),u(),v()}}var a=this.frame,b=a.contentWindow,d=b.document,e=d.body,f=this.lineNumbers,g=f.firstChild,h=this,i=null;f.onclick=function(a){var b=h.options.onLineNumberClick;if(b){var c=(a||window.event).target||(a||window.event).srcElement,d=c==f?NaN:Number(c.innerHTML);isNaN(d)||b(d,c)}};var l=function(){};j();var m=setInterval(j,500);(this.options.textWrapping||this.options.styleNumbers?p:o)()},setDynamicHeight:function(){function h(){var b=0,f=d.lastChild,h;while(f&&c.isBR(f))f.hackBR||b++,f=f.previousSibling;f?(e=f.offsetHeight,h=f.offsetTop+(1+b)*e):e&&(h=b*e),h&&(a.wrapping.style.height=Math.max(g+h,a.options.minHeight)+"px")}var a=this,b=a.options.onCursorActivity,c=a.win,d=c.document.body,e=null,f=null,g=2*a.frame.offsetTop;d.style.overflowY="hidden",c.document.documentElement.style.overflowY="hidden",this.frame.scrolling="no",setTimeout(h,300),a.options.onCursorActivity=function(a){b&&b(a),clearTimeout(f),f=setTimeout(h,100)}}},g.InvalidLineHandle={toString:function(){return"ZenCodingCodeMirror.InvalidLineHandle"}},g.replace=function(a){return typeof a=="string"&&(a=document.getElementById(a)),function(b){a.parentNode.replaceChild(b,a)}},g.fromTextArea=function(a,b){function c(){a.value=i.getCode()}function h(b){a.nextSibling?a.parentNode.insertBefore(b,a.nextSibling):a.parentNode.appendChild(b)}typeof a=="string"&&(a=document.getElementById(a)),b=b||{},a.style.width&&b.width==null&&(b.width=a.style.width),a.style.height&&b.height==null&&(b.height=a.style.height),b.content==null&&(b.content=a.value);if(a.form){typeof a.form.addEventListener=="function"?a.form.addEventListener("submit",c,!1):a.form.attachEvent("onsubmit",c);var d=a.form.submit;function e(){c(),a.form.submit=d,a.form.submit(),a.form.submit=e}try{a.form.submit=e}catch(f){}}a.style.display="none";var i=new g(h,b);return i.save=c,i.toTextArea=function(){c(),a.parentNode.removeChild(i.wrapping),a.style.display="";if(a.form){try{a.form.submit=d}catch(b){}typeof a.form.removeEventListener=="function"?a.form.removeEventListener("submit",c,!1):a.form.detachEvent("onsubmit",c)}},i},g.isProbablySupported=function(){var a;return window.opera?Number(window.opera.version())>=9.52:/Apple Computer, Inc/.test(navigator.vendor)&&(a=navigator.userAgent.match(/Version\/(\d+(?:\.\d+)?)\./))?Number(a[1])>=3:document.selection&&window.ActiveXObject&&(a=navigator.userAgent.match(/MSIE (\d+(?:\.\d*)?)\b/))?Number(a[1])>=6:(a=navigator.userAgent.match(/gecko\/(\d{8})/i))?Number(a[1])>=20050901:(a=navigator.userAgent.match(/AppleWebKit\/(\d+)/))?Number(a[1])>=525:null},g}()

var zen_editor=function(){function H(b,a,e){var a=String(a||b.getSyntax()),e=String(e||b.getProfileName()),l=b.getSelectionRange().end,f,n="";f=b.getSelectionRange();n=String(b.getContent());if(f.start!=f.end)f=n.substring(f.start,f.end);else{var c=b.getCurrentLineRange();f=g.extractAbbreviation(n.substring(c.start,f.start))}return f&&(n=g.expandAbbreviation(f,a,e))?(b.replaceContent(n,l-f.length,l),!0):!1}function F(b,a,e){var a=String((a||"out").toLowerCase()),e=String(e||b.getProfileName()),l=
b.getSelectionRange(),f=l.end,n=l.start,c=l.end,l=String(b.getContent()),k=g.html_matcher.last_match.opening_tag,d=g.html_matcher.last_match.closing_tag;if(a=="in"&&k&&n!=c)if(d)k.start==n?l.charAt(k.end)=="<"?(a=g.html_matcher.find(l,k.end+1,e),l=a[0]==k.end&&a[1]==d.start?g.html_matcher(l,k.end+1,e):[k.end,d.start]):l=[k.end,d.start]:(a=l.substring(0,d.start).indexOf("<",k.end),l=g.html_matcher(l,a!=-1?a+1:k.end,e));else return!1;else l=g.html_matcher(l,f,e);return l!==null&&l[0]!=-1?(b.createSelection(l[0],
l[1]),!0):!1}function y(b,a,e){function l(a){return f.test(a)}for(var f=/\s|\n|\r/;a<e;){if(!l(b.charAt(a)))break;a++}for(;e>a;)if(e--,!l(b.charAt(e))){e++;break}return[a,e]}function G(b,a){for(var e=g.splitByLines(b),l=0;l<e.length;l++)e[l].search(a)==0&&(e[l]=e[l].substr(a.length));return e.join(g.getNewline())}function A(b){return(b.match(/^(\s+)/)||[""])[0]}function u(b,a,e){function l(c){for(var a=c;a>=0;){var b=f.charAt(a);if(b=="\n"||b=="\r")break;a--}return f.substring(a,c)}for(var a=a||1,
e=b.getCaretPos()+(e||0),f=String(b.getContent()),b=f.length,d=-1,c=/^\s+$/;e<b&&e>0;){e+=a;var k=f.charAt(e),x=f.charAt(e+1),j=f.charAt(e-1);switch(k){case '"':case "'":x==k&&j=="="&&(d=e+1);break;case ">":x=="<"&&(d=e+1);break;case "\n":case "\r":c.test(l(e-1))&&(d=e)}if(d!=-1)break}return d}function I(b){var a=b.getCaretPos(),e=String(b.getContent()),l=g.getNewline(),f=g.getVariable("indentation"),d=String(b.getSyntax());if(d=="html"){if(e=g.html_matcher.getTags(e,a,String(b.getProfileName())),
e[0]&&e[1]&&e[0].type=="tag"&&e[0].end==a&&e[1].start==a)return b.replaceContent(l+f+g.getCaretPlaceholder()+l,a),!0}else if(d=="css"&&a&&e.charAt(a-1)=="{"){for(var d=a,c=e.length,k;d<c;d++){k=e.charAt(d);if(k=="}")return!1;if(k=="{")break}l=l+f+g.getCaretPlaceholder()+l;e=a<e.length&&e.charAt(a)=="}";(f=g.getVariable("close_css_brace"))?l+=g.replaceVariables(f):e||(l+="}");b.replaceContent(l,a,a+(e?1:0));return!0}return!1}function d(b,a,e,l){for(var f=e.charAt(0),d=l.charAt(0),c=-1,k=-1;a--;)if(b.charAt(a)==
f&&b.substr(a,e.length)==e){c=a;break}if(c!=-1){a=c;for(e=b.length;e>=a++;)if(b.charAt(a)==d&&b.substr(a,l.length)==l){k=a+l.length;break}}return c!=-1&&k!=-1?[c,k]:null}function i(b){return b.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")}function h(b,a,e,l,f){function n(c){return c.replace(RegExp("^"+i(a)+"\\s*"),function(c){k-=c.length;return""}).replace(RegExp("\\s*"+i(e)+"$"),"")}var c=String(b.getContent()),k=b.getCaretPos(),x=null;(x=d(c,k,a,e))&&x[0]<=l&&x[1]>=f?(l=x[0],f=x[1],x=n(c.substring(l,
f))):(x=a+" "+c.substring(l,f).replace(RegExp(i(a)+"\\s*|\\s*"+i(e),"g"),"")+" "+e,k+=a.length+1);return x!==null?(b.setCaretPos(l),b.replaceContent(G(x,A(b.getCurrentLine())),l,f),b.setCaretPos(k),!0):!1}function m(b,a,e){e=e||0;return a.charAt(e)==b.charAt(0)&&a.substr(e,b.length)==b}function t(b,a){return b.toFixed(typeof a=="undefined"?2:a).replace(/\.?0+$/,"")}function q(b,a){for(var e=String(b.getContent()),l=e.length,f=b.getCaretPos()-1,d=f+1;f>=0&&a(e.charAt(f),f,e);)f--;for(;d<l&&a(e.charAt(d),
d,e);)d++;return d>f?[++f,d]:null}function p(b,a){var e=String(b.getContent()),d=!1,f=!1,n=q(b,function(c){return g.isNumeric(c)?!0:c=="."?f?!1:f=!0:c=="-"?d?!1:d=!0:!1});return n&&(e=parseFloat(e.substring(n[0],n[1])),!isNaN(e))?(e=t(e+a),b.replaceContent(e,n[0],n[1]),b.createSelection(n[0],n[0]+e.length),!0):!1}var z={variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n",nl:"\n"},css:{filters:"html,css",snippets:{"@i":"@import url(|);","@m":"@media print {\n\t|\n}","@f":"@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}",
"!":"!important",pos:"position:|;","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",brad:"-webkit-border-radius: ${1:radius};\n-moz-border-radius: $1;\n-ms-border-radius: $1;\nborder-radius: $1;",bsha:"-webkit-box-shadow: ${1:hoff} ${2:voff} ${3:blur} ${4:rgba(0,0,0,0.5)};\n-moz-box-shadow: $1 $2 $3 $4;\n-ms-box-shadow: $1 $2 $3 $4;\nbox-shadow: $1 $2 $3 $4;",
l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:|;","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:|;","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",d:"display:|;","d:n":"display:none;","d:b":"display:block;","d:i":"display:inline;","d:ib":"display:inline-block;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;",
"d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:|;","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",
ov:"overflow:|;","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:|;","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:|;","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:|;","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;",
"ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(|);",bxz:"box-sizing:|;","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:|;","bxsh:n":"box-shadow:none;","bxsh:w":"-webkit-box-shadow:0 0 0 #000;","bxsh:m":"-moz-box-shadow:0 0 0 0 #000;",m:"margin:|;","m:a":"margin:auto;","m:0":"margin:0;","m:2":"margin:0 0;","m:3":"margin:0 0 0;","m:4":"margin:0 0 0 0;",mt:"margin-top:|;","mt:a":"margin-top:auto;",
mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;","p:0":"padding:0;","p:2":"padding:0 0;","p:3":"padding:0 0 0;","p:4":"padding:0 0 0 0;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",
mih:"min-height:|;",o:"outline:|;","o:n":"outline:none;",oo:"outline-offset:|;",ow:"outline-width:|;",os:"outline-style:|;",oc:"outline-color:#000;","oc:i":"outline-color:invert;",bd:"border:|;","bd+":"border:1px solid #000;","bd:n":"border:none;",bdbk:"border-break:|;","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#000;",bdi:"border-image:url(|);","bdi:n":"border-image:none;","bdi:w":"-webkit-border-image:url(|) 0 0 0 0 stretch stretch;",
"bdi:m":"-moz-border-image:url(|) 0 0 0 0 stretch stretch;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;",
"bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:|;","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;",
"bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdl:"border-length:|;","bdl:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;",
"bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdt:"border-top:|;","bdt+":"border-top:1px solid #000;","bdt:n":"border-top:none;",bdtw:"border-top-width:|;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#000;",bdr:"border-right:|;","bdr+":"border-right:1px solid #000;","bdr:n":"border-right:none;",bdrw:"border-right-width:|;",bdrs:"border-right-style:|;",
"bdrs:n":"border-right-style:none;",bdrc:"border-right-color:#000;",bdb:"border-bottom:|;","bdb+":"border-bottom:1px solid #000;","bdb:n":"border-bottom:none;",bdbw:"border-bottom-width:|;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#000;",bdl:"border-left:|;","bdl+":"border-left:1px solid #000;","bdl:n":"border-left:none;",bdlw:"border-left-width:|;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#000;",bdrs:"border-radius:|;",
bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:|;","bg+":"background:#FFF url(|) 0 0 no-repeat;","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#FFF;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;",
"bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:0 0;",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:|;","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;",
"bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgz:"background-size:|;","bgz:a":"background-size:auto;","bgz:ct":"background-size:contain;","bgz:cv":"background-size:cover;",c:"color:#000;",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;",
"cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;",
"list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\x00AB' '\x00BB' '\u0081E' '\u0081C';","q:en":"quotes:'\u0081C' '\u0081D' '\u00818' '\u00819';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);",
"ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:|;","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:|;","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;",tal:"text-align-last:|;","tal:a":"text-align-last:auto;",
"tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:|;","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;",
"th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",to:"text-outline:|;","to+":"text-outline:0 0 #000;","to:n":"text-outline:none;",
tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:|;","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:|;","tsh+":"text-shadow:0 0 0 #000;","tsh:n":"text-shadow:none;",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;",
"whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;",
wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;",lts:"letter-spacing:|;",f:"font:|;","f+":"font:1em Arial,sans-serif;",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:|;","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;",
"fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;",
"femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;",
"fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rz:"resize:|;","rz:n":"resize:none;","rz:b":"resize:both;","rz:h":"resize:horizontal;","rz:v":"resize:vertical;",
cur:"cursor:|;","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;",
"pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",wid:"widows:|;"}},html:{filters:"html",snippets:{"cc:ie6":"<\!--[if lte IE 6]>\n\t${child}|\n<![endif]--\>","cc:ie":"<\!--[if IE]>\n\t${child}|\n<![endif]--\>","cc:noie":"<\!--[if !IE]><\!--\>\n\t${child}|\n<\!--<![endif]--\>","html:4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n<html lang="${lang}">\n<head>\n\t<meta http-equiv="Content-Type" content="text/html;charset=${charset}">\n\t<title></title>\n</head>\n<body>\n\t${child}|\n</body>\n</html>',
"html:4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">\n<html lang="${lang}">\n<head>\n\t<meta http-equiv="Content-Type" content="text/html;charset=${charset}">\n\t<title></title>\n</head>\n<body>\n\t${child}|\n</body>\n</html>',"html:xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n<head>\n\t<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n\t<title></title>\n</head>\n<body>\n\t${child}|\n</body>\n</html>',
"html:xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n<head>\n\t<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n\t<title></title>\n</head>\n<body>\n\t${child}|\n</body>\n</html>',"html:xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n<head>\n\t<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n\t<title></title>\n</head>\n<body>\n\t${child}|\n</body>\n</html>',
"html:5":'<!DOCTYPE HTML>\n<html lang="${locale}">\n<head>\n\t<meta charset="${charset}">\n\t<title></title>\n</head>\n<body>\n\t${child}|\n</body>\n</html>'},abbreviations:{a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',acronym:'<acronym title="">',base:'<base href="" />',bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',"link:css":'<link rel="stylesheet" type="text/css" href="${1:style}.css" media="all" />',"link:print":'<link rel="stylesheet" type="text/css" href="|print.css" media="print" />',
"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="|favicon.ico" />',"link:touch":'<link rel="apple-touch-icon" href="|favicon.png" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="|rss.xml" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="atom.xml" />',"meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',
"meta:compat":'<meta http-equiv="X-UA-Compatible" content="IE=7" />',style:'<style type="text/css">',script:'<script type="text/javascript">',"script:src":'<script type="text/javascript" src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',
"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',link:'<link rel="stylesheet" href="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="" />',"input:hidden":'<input type="hidden" name="" />',"input:h":'<input type="hidden" name="" />',"input:text":'<input type="text" name="" id="" />',"input:t":'<input type="text" name="" id="" />',
"input:search":'<input type="search" name="" id="" />',"input:email":'<input type="email" name="" id="" />',"input:url":'<input type="url" name="" id="" />',"input:password":'<input type="password" name="" id="" />',"input:p":'<input type="password" name="" id="" />',"input:datetime":'<input type="datetime" name="" id="" />',"input:date":'<input type="date" name="" id="" />',"input:datetime-local":'<input type="datetime-local" name="" id="" />',"input:month":'<input type="month" name="" id="" />',
"input:week":'<input type="week" name="" id="" />',"input:time":'<input type="time" name="" id="" />',"input:number":'<input type="number" name="" id="" />',"input:color":'<input type="color" name="" id="" />',"input:checkbox":'<input type="checkbox" name="" id="" />',"input:c":'<input type="checkbox" name="" id="" />',"input:radio":'<input type="radio" name="" id="" />',"input:r":'<input type="radio" name="" id="" />',"input:range":'<input type="range" name="" id="" />',"input:file":'<input type="file" name="" id="" />',
"input:f":'<input type="file" name="" id="" />',"input:submit":'<input type="submit" value="" />',"input:s":'<input type="submit" value="" />',"input:image":'<input type="image" src="" alt="" />',"input:i":'<input type="image" src="" alt="" />',"input:reset":'<input type="reset" value="" />',"input:button":'<input type="button" value="" />',"input:b":'<input type="button" value="" />',select:'<select name="" id=""></select>',option:'<option value=""></option>',textarea:'<textarea name="" id="" cols="30" rows="10">',
"menu:context":'<menu type="context">',"menu:c":'<menu type="context">',"menu:toolbar":'<menu type="toolbar">',"menu:t":'<menu type="toolbar">',video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',bq:"<blockquote>",acr:"<acronym>",fig:"<figure>",ifr:"<iframe>",emb:"<embed>",obj:"<object>",src:"<source>",cap:"<caption>",colg:"<colgroup>",fst:"<fieldset>",btn:"<button>",optg:"<optgroup>",opt:"<option>",tarea:"<textarea>",leg:"<legend>",sect:"<section>",
art:"<article>",hdr:"<header>",ftr:"<footer>",adr:"<address>",dlg:"<dialog>",str:"<strong>",prog:"<progress>",fset:"<fieldset>",datag:"<datagrid>",datal:"<datalist>",kg:"<keygen>",out:"<output>",det:"<details>",cmd:"<command>","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"},element_types:{empty:"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,keygen,command",
block_level:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6",inline_level:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"}},xml:{"extends":"html",filters:"html"},xsl:{"extends":"html",filters:"html, xsl",
abbreviations:{tm:'<xsl:template match="" mode="">',tmatch:"tm",tn:'<xsl:template name="">',tname:"tn","xsl:when":'<xsl:when test="">',wh:"xsl:when","var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',"if":'<xsl:if test="">',call:'<xsl:call-template name=""/>',attr:'<xsl:attribute name="">',wp:'<xsl:with-param name="" select=""/>',par:'<xsl:param name="" select=""/>',val:'<xsl:value-of select=""/>',co:'<xsl:copy-of select=""/>',each:'<xsl:for-each select="">',"for":"each",ap:'<xsl:apply-templates select="" mode=""/>',
"choose+":"xsl:choose>xsl:when+xsl:otherwise"}},haml:{filters:"haml","extends":"html"}},v=function(){function b(a){return a==c?r:s}function a(c,a,e){var j=b(c),f=[],d;j&&a in j&&(d=j[a],e in d&&f.push(d[e]));var l;d&&"extends"in d?l=d:c==k&&a in r&&"extends"in r[a]&&(l=r[a]);if(l){if(!l["extends"]||!l["extends"].__zen_parsed__){a=l["extends"].split(",");for(c=0;c<a.length;c++)a[c]=(a[c]||"").replace(/^\s+|\s+$/g,"");l["extends"]=a;l["extends"].__zen_parsed__=!0}for(c=0;c<l["extends"].length;c++)a=
l["extends"][c],j[a]&&j[a][e]&&f.push(j[a][e])}return f}function e(c,b,k,e){for(var b=a(c,b,k),s=null,r=0,i=b.length;r<i;r++)if(c=b[r],e in c){if(k=="abbreviations"&&(!c[e]||!c[e].__zen_parsed__)){var k=c[e],b=c,i=s=e,h=k,i=(i||"").replace(/^\s+|\s+$/g,""),r=void 0;if(i.substr(-1)=="+")r={type:f,key:i,value:h};else if(r=x.exec(h)){h=r[2];r={name:r[1],is_empty:r[4]=="/"};if(h){var m=void 0;for(r.attributes=[];m=j.exec(h);)r.attributes.push({name:m[1],value:m[3]})}r={type:d,key:i,value:r}}else r={type:g,
key:i,value:h};b[s]=r;c[e].__ref=k;c[e].__zen_parsed__=!0}s=c[e];break}return s}var d="zen-tag",f="zen-expando",g="zen-reference",c="system",k="user",x=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,j=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g,r={},s={};return{setVocabulary:function(a,b){b==c?r=a:s=a},getVocabulary:b,getResource:function(a,b,j){return e(k,a,b,j)||e(c,a,b,j)},getAbbreviation:function(c,a){return this.getResource(c,"abbreviations",a)||this.getResource(c,"abbreviations",a.replace(/\-/g,
":"))},getSnippet:function(c,a){return this.getResource(c,"snippets",a)||this.getResource(c,"snippets",a.replace(/\-/g,":"))},getVariable:function(b){return a(k,"variables",b)[0]||a(c,"variables",b)[0]},getSubset:function(b,e){return a(k,b,e)[0]||a(c,b,e)[0]},isItemInCollection:function(a,e,j){return j in this.getElementsCollection(b(k)[a],e)||j in this.getElementsCollection(b(c)[a],e)},getElementsCollection:function(c,a){if(c&&c.element_types){var b=c.element_types;if(!b||!b.__zen_parsed__){for(var k in b){for(var e=
b,j=k,d={},f=b[k].split(","),l=0;l<f.length;l++)d[f[l]]=!0;e[j]=d}b.__zen_parsed__=!0}return b[a]||{}}else return{}},hasSyntax:function(a){return a in b(k)||a in b(c)}}}();try{v.setVocabulary(z,"system"),v.setVocabulary(my_zen_settings,"user")}catch(D){}var C=function(){function b(){this.abbreviation="";this.parent=null;this.children=[];this.count=1;this.text=this.name=null;this.attributes=[];this.has_implict_name=this.is_repeating=!1}function a(c){typeof c=="string"&&(c=c.charCodeAt(0));return c&&
c>47&&c<58}function e(c){return(c||"").replace(/^\s+|\s+$/g,"")}function d(c,a){var b=a.substring(c).match(/^[\w\-:\$]+/);return b?b[0]:""}function f(c){for(;c.hasEmptyChildren();)for(var a=c,b=a.children.length-1;b>=0;b--){var e=a.children[b];if(e.isEmpty()){for(var d=[b,1],l=0,g=e.children.length;l<g;l++)d.push(e.children[l]);Array.prototype.splice.apply(a.children,d)}}a=0;for(b=c.children.length;a<b;a++)f(c.children[a]);return c}var n=/^[\w\d\-_\$\:@!]+\+?$/i;b.prototype={addChild:function(c){c=
c||new b;c.parent=this;this.children.push(c);return c},replace:function(c){if(this.parent)for(var a=this.parent.children,b=0,e=a.length;b<e;b++)if(a[b]===this){a[b]=c;this.parent=null;break}},setAbbreviation:function(c){this.abbreviation=c;var a=c.match(/\*(\d+)?$/);if(a)this.count=parseInt(a[1]||1,10),this.is_repeating=!a[1],c=c.substr(0,c.length-a[0].length);if(c){a:{if(c.indexOf("{")!=-1)for(var b=a=0,j=[],f=0,g=c.length,o;f<g;){o=c.charAt(f);switch(o){case "[":b||a++;break;case "]":b||a--;break;
case "{":a||(b++,j.push(f));break;case "}":if(!a&&(b--,o=j.pop(),b===0)){a=[c.substring(0,o),c.substring(o+1,f)];break a}}f++}a=[c]}c=a[0];if(a.length==2)this.text=a[1];if(c){var i,a=[],b="",h=!0,j={"#":"id",".":"class"};o=0;for(f=c.length;o<f;)switch(g=c.charAt(o),g){case "#":h=d(o,c.substring(1));a.push({name:j[g],value:h});o+=h.length+1;h=!1;break;case ".":h=d(o,c.substring(1));i||(i={name:j[g],value:""},a.push(i));i.value+=(i.value?" ":"")+h;o+=h.length+1;h=!1;break;case "[":g=c.indexOf("]",o);
if(g==-1)o=c.length;else{o=c.substring(o+1,g);o=e(o);for(var h=100,B=/^(["'])((?:(?!\1)[^\\]|\\.)*)\1/,w=[],J=void 0;o&&h--;){var m=d(0,o);if(m)switch(J={name:m,value:""},o.charAt(m.length)){case "=":var p=o.charAt(m.length+1);p=='"'||p=="'"?(p=o.substring(m.length+1).match(B))?(J.value=p[2],o=e(o.substring(m.length+p[0].length+1))):o="":(p=o.substring(m.length+1).match(/(.+?)(\s|$)/))?(J.value=p[1],o=e(o.substring(m.length+p[1].length+1))):o="";break;default:o=e(o.substring(m.length))}else break;
J&&w.push(J)}o=w;h=0;for(B=o.length;h<B;h++)a.push(o[h]);o=g}h=!1;break;default:h&&(b+=g),o++}i=[b,a];this.name=i[0]||"div";this.has_implict_name=!i[0];this.attributes=i[1]}}if(this.name&&!n.test(this.name))throw Error("InvalidAbbreviation");},getAbbreviation:function(){return this.expr},toString:function(c){var c=c||0,a="(empty)";if(this.abbreviation){a="";if(this.name)a=this.name;this.text!==null&&(a+=(a?" ":"")+'{text: "'+this.text+'"}');if(this.attributes.length){for(var b=[],e=0,d=this.attributes.length;e<
d;e++)b.push(this.attributes[e].name+'="'+this.attributes[e].value+'"');a+=" ["+b.join(", ")+"]"}}a=g.repeatString("-",c)+a+"\n";e=0;for(d=this.children.length;e<d;e++)a+=this.children[e].toString(c+1);return a},hasEmptyChildren:function(){for(var a=0,b=this.children.length;a<b;a++)if(this.children[a].isEmpty())return!0;return!1},isEmpty:function(){return!this.abbreviation},isTextNode:function(){return!this.name&&this.text}};return{parse:function(c){var e=new b,d=e.addChild(),j=0,l=c.length,g=0,n=
0,i=[e],h,B,w="";i.last=function(){return this[this.length-1]};for(var m=function(){w&&d.setAbbreviation(w);w=""};j<l;){h=c.charAt(j);B=j?c.charAt(j-1):"";switch(h){case "{":n||g++;w+=h;break;case "}":n||g--;w+=h;break;case "[":g||n++;w+=h;break;case "]":g||n--;w+=h;break;case "(":!g&&!n?(m(),B!="+"&&B!=">"&&(d=d.parent.addChild()),i.push(d),d=d.addChild()):w+=h;break;case ")":if(!g&&!n){if(m(),d=i.pop(),j<l-1&&c.charAt(j+1)=="*"){h="";for(var p=j+2;p<l;p++)if(B=c.charAt(p),a(B))h+=B;else break;j+=
h.length+1;for(h=parseInt(h||1,10);1<h--;)d.parent.addChild(d)}}else w+=h;break;case "+":!g&&!n&&j!=l-1?(m(),d=d.parent.addChild()):w+=h;break;case ">":!g&&!n?(m(),d=d.addChild()):w+=h;break;default:w+=h}j++}m();return f(e)},TreeNode:b,optimizeTree:f}}(),g=function(){function b(a){typeof a=="string"&&(a=a.charCodeAt(0));return a&&a>47&&a<58}function a(){return typeof y!="string"?y():y}function e(a,c){var b=g.getNewline(),b=(a||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,
b).split(b);if(c)for(var e=b.length;e>=0;e--)d(b[e])||b.splice(e,1);return b}function d(a){return(a||"").replace(/^\s+|\s+$/g,"")}function f(a,c){var b=E,e=a.toLowerCase(),d=c||{},f={},j;for(j in M)f[j]=j in d?d[j]:M[j];b[e]=f}function n(a,c){for(var b="",e=0;e<c;e++)b+=a;return b}function c(a,c){return a.replace(/\$\{([\w\-]+)\}/g,typeof c=="function"?c:c?function(a,b){return b in c?c[b]:a}:function(a,c){var b=s(c);return b!==null&&typeof b!="undefined"?b:a})}function k(a){return(a||"").replace(/(.+)\!$/,
"$1")}function i(a){for(var c=0,b=a.length;c<b;c++){var e=a.charAt(c);if(e=="\\")c++;else if(e=="$"&&a.charAt(c+1)=="#")return!0}return!1}function j(a,c){var c=c||"html",b=null;if(a.name&&(b=k(a.name),(b=v.getAbbreviation(c,b))&&b.type=="zen-reference"))b=k(b.value),b=v.getAbbreviation(c,b);this.name=b?b.value.name:a.name;this.real_name=a.name;this.count=a.count||1;this._abbr=b;this.syntax=c;this._paste_content=this._content="";this.repeat_by_lines=a.is_repeating;this.is_repeating=a&&a.count>1;this.parent=
null;this.has_implicit_name=a.has_implict_name;this.setContent(a.text);this._abbr&&this.copyAttributes(this._abbr.value);this.copyAttributes(a)}function r(c,b){this.name=k(c.name);this.real_name=c.name;this.count=c.count;this.children=[];this._content=c.text||"";this.repeat_by_lines=c.is_repeating;this.is_repeating=c&&c.count>1;this.attributes=[];this.value=q(v.getSnippet(b,this.name),"|",a());this.parent=null;this.syntax=b;this.addAttribute("id",a());this.addAttribute("class",a());this.copyAttributes(c)}
function s(a){return v.getVariable(a)}function o(a){this.type=a instanceof r?"snippet":"tag";this.name=a.name;this.real_name=a.real_name;this.children=[];this.counter=1;this.is_repeating=a.is_repeating;this.repeat_by_lines=a.repeat_by_lines;this.has_implicit_name=this.type=="tag"&&a.has_implicit_name;this.attributes=[];if(a.attributes)for(var c=0,b=a.attributes.length;c<b;c++){var e=a.attributes[c];this.attributes.push({name:e.name,value:e.value})}this.source=a;this.previousSibling=this.nextSibling=
this.parent=null;this.end=this.start="";this.content=a.getContent()||"";this.padding=""}function h(a,c){var c=c||new o(a),b=1,f="";if(a.children)for(var j=0,k=a.children.length;j<k;j++){var g=a.children[j],b=g.count;g.repeat_by_lines?(f=e(g.getPasteContent(),!0),b=Math.max(f.length,1)):f=g.getPasteContent();for(var n=0;n<b;n++){var r=new o(g);c.addChild(r);r.counter=n+1;g.children&&g.children.length&&h(g,r);f&&r.pasteContent(d(typeof f=="string"?f:f[n]||""))}}return c}function m(a,c,b){c=t(c);typeof b==
"string"&&(b=b.split(/[\|,]/g));for(var e=0,f=b.length;e<f;e++){var j=d(b[e].toLowerCase());j&&j in z&&(a=z[j](a,c))}return a}function B(a,c,b){var e;e=c||"html";if(a.isEmpty())e=null;else{var d=e,f=k(a.name);e=v.getSnippet(d,f)?new r(a,e):new j(a,e)}for(b.addChild(e);b.parent;)b=b.parent;b.last=e;if(e.repeat_by_lines)b.multiply_elem=e;b=0;for(d=a.children.length;b<d;b++)B(a.children[b],c,e)}function w(a,c){for(var b=0,e=a.children.length;b<e;b++){var d=a.children[b];!d.isEmpty()&&!d.isTextNode()&&
d.name.indexOf("+")!=-1&&(d=v.getAbbreviation(c,d.name))&&(a.children[b]=C.parse(d.value));w(a.children[b],c)}}function p(a,c){w(a,c);return C.optimizeTree(a)}function q(a,c,b){for(var e=0,d=a.length,f=c.length,j=0;e<d;)if(a.charAt(e)=="\\")e+=f+1;else if(a.substr(e,f)==c){var l=f;j++;var k=b;if(typeof b!=="string")(k=b(a,c,e,j))?(l=k[0].length,k=k[1]):k=!1;k===!1?e++:(a=a.substring(0,e)+k+a.substring(e+l),d=a.length,e+=k.length)}else e++;return a}function t(a){var c=a;typeof a=="string"&&a in E&&
(c=E[a]);c||(c=E.plain);return c}var u=/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,y="{%::zen-caret::%}",A="\n",z={},E={},M={tag_case:"lower",attr_case:"lower",attr_quotes:"double",tag_nl:"decide",place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:""};j.prototype={addChild:function(a){if(!this.children)this.children=[];a.parent=this;this.children.push(a)},addAttribute:function(c,b){if(!this.attributes)this.attributes=[];if(!this._attr_hash)this._attr_hash=
{};var b=q(b,"|",a()),e;c in this._attr_hash?(e=this._attr_hash[c],c=="class"?e.value+=(e.value?" ":"")+b:e.value=b):(e={name:c,value:b},this._attr_hash[c]=e,this.attributes.push(e))},copyAttributes:function(a){if(a&&a.attributes)for(var c=0,b=a.attributes.length;c<b;c++){var e=a.attributes[c];this.addAttribute(e.name,e.value)}},hasTagsInContent:function(){return this.getContent()&&u.test(this.getContent())},setContent:function(c){this._content=q(c||"","|",a())},getContent:function(){return this._content||
""},setPasteContent:function(a){this._paste_content=g.escapeText(a)},getPasteContent:function(){return this._paste_content},findDeepestChild:function(){if(!this.children||!this.children.length)return null;for(var a=this;;)if(a=a.children[a.children.length-1],!a.children||!a.children.length)break;return a}};(function(a,c){var b=function(){};b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a;a.baseConstructor=c;a.superClass=c.prototype})(r,j);o.prototype={addChild:function(a){a.parent=
this;if(a.has_implicit_name&&this.isInline())a.name="span";var c=this.children[this.children.length-1];if(c)a.previousSibling=c,c.nextSibling=a;this.children.push(a)},getAttribute:function(a){for(var a=a.toLowerCase(),c=0,b=this.attributes.length;c<b;c++)if(this.attributes[c].name.toLowerCase()==a)return this.attributes[c].value;return null},isUnary:function(){return this.type=="snippet"?!1:this.source._abbr&&this.source._abbr.value.is_empty||v.isItemInCollection(this.source.syntax,"empty",this.name)},
isInline:function(){return this.type=="text"||v.isItemInCollection(this.source.syntax,"inline_level",this.name)},isBlock:function(){return this.type=="snippet"||!this.isInline()},hasTagsInContent:function(){return this.content&&u.test(this.content)},hasChildren:function(){return!!this.children.length},hasBlockChildren:function(){if(this.hasTagsInContent()&&this.isBlock())return!0;for(var a=0;a<this.children.length;a++)if(this.children[a].isBlock())return!0;return!1},findDeepestChild:function(){if(!this.children.length)return null;
for(var a=this;;)if(a=a.children[a.children.length-1],!a.children.length)break;return a},toString:function(){for(var a="",c=0,b=this.children.length;c<b;c++)a+=this.children[c].toString();return this.start+this.content+a+this.end},hasOutputPlaceholder:function(){if(i(this.content))return!0;else for(var a=0,c=this.attributes.length;a<c;a++)if(i(this.attributes[a].value))return!0;return!1},findElementsWithOutputPlaceholder:function(a){for(var a=a||[],c=0,b=this.children.length;c<b;c++)this.children[c].hasOutputPlaceholder()&&
a.push(this.children[c]),this.children[c].findElementsWithOutputPlaceholder(a);return a},pasteContent:function(a){var c=["$#",a],b=function(){return c},e=[];this.hasOutputPlaceholder()&&e.push(this);e=e.concat(this.findElementsWithOutputPlaceholder());if(e.length)for(var a=0,d=e.length;a<d;a++){var f=e[a];f.content=q(f.content,"$#",b);for(var j=0,k=f.attributes.length;j<k;j++){var l=f.attributes[j];l.value=q(l.value,"$#",b)}}else(this.findDeepestChild()||this).content+=a}};f("xhtml");f("html",{self_closing_tag:!1});
f("xml",{self_closing_tag:!0,tag_nl:!0});f("plain",{tag_nl:!1,indent:!1,place_cursor:!1});return{actions:{},registerAction:function(a,c){this.actions[a.toLowerCase()]=c},runAction:function(a,c){c instanceof Array||(c=Array.prototype.slice.call(arguments,1));a=a.toLowerCase();if(a in this.actions)return this.actions[a].apply(this,c)},expandAbbreviation:function(a,b,e){b=b||"html";if(a=this.parseIntoTree(a,b)){var d=h(a);this.applyFilters(d,b,e,a.filters);return c(d.toString())}return""},extractAbbreviation:function(a){for(var c=
a.length,e=-1,d=0,f=0,j=0;;){c--;if(c<0){e=0;break}var k=a.charAt(c);if(k=="]")f++;else if(k=="["){if(!f){e=c+1;break}f--}else if(k=="}")j++;else if(k=="{"){if(!j){e=c+1;break}j--}else if(k==")")d++;else if(k=="("){if(!d){e=c+1;break}d--}else if(!f&&!j){var l;l=k;l=String(l);var g=l.charCodeAt(0);if(!(l=!(g>64&&g<91||g>96&&g<123||b(l)||"#.>+*:$-_!@[]()|".indexOf(l)!=-1))){if(k=k==">")k=a.substring(0,c+1),k=u.test(k);l=k}if(l){e=c+1;break}}}return e!=-1&&!j&&!f&&!d?a.substring(e):""},parseIntoTree:function(a,
c){var c=c||"html",b="",a=a.replace(/\|([\w\|\-]+)$/,function(a,c){b=c;return""});try{var e=C.parse(a),d=new j({},c),e=p(e,c)}catch(f){if(f.message=="InvalidAbbreviation")return null}for(var k=0,l=e.children.length;k<l;k++)B(e.children[k],c,d);d.filters=b;return d},padString:function(a,c){var b=typeof c=="number"?n(s("indentation"),c):c,d="",f=e(a),j=g.getNewline();d+=f[0];for(var k=1;k<f.length;k++)d+=j+b+f[k];return d},setupProfile:f,getNewline:function(){return A},setNewline:function(a){A=a;this.setVariable("newline",
a);this.setVariable("nl",a)},wrapWithAbbreviation:function(a,b,e,d){var e=e||"html",a=this.parseIntoTree(a,e),f=!1;if(a){if(a.multiply_elem)a.multiply_elem.setPasteContent(b),a.multiply_elem.repeat_by_lines=f=!0;var j=h(a);f||j.pasteContent(b);this.applyFilters(j,e,d,a.filters);return c(j.toString())}return null},splitByLines:e,isInsideTag:function(a,c){for(var b=/^<\/?\w[\w\:\-]*.*?>/,e=c;e>-1;){if(a.charAt(e)=="<")break;e--}return e!=-1&&(b=b.exec(a.substring(e)))&&c>e&&c<e+b[0].length?!0:!1},getCaretPlaceholder:a,
setCaretPlaceholder:function(a){y=a},rolloutTree:h,registerFilter:function(a,c){z[a]=c},nodeFactory:function(a,c){return new o({name:a,attributes:c||[]})},applyFilters:function(a,c,b,e){var b=t(b),d=b.filters;d||(d=v.getSubset(c,"filters")||"html");e&&(d+="|"+(typeof e=="string"?e:e.join("|")));d||(d="html");return m(a,b,d)},runFilters:m,repeatString:n,getVariable:s,setVariable:function(a,c){var b=v.getVocabulary("user")||{};if(!("varaibles"in b))b.variables={};b.variables[a]=c;v.setVocabulary(b,
"user")},replaceVariables:c,escapeText:function(a){return a.replace(/([\$\|\\])/g,"\\$1")},unescapeText:function(a){return a.replace(/\\(.)/g,"$1")},replaceCounter:function(a,c){c=String(c);return q(a,"$",function(a,e,d){if(a.charAt(d+1)=="{"||b(a.charAt(d+1)))return!1;for(e=d+1;a.charAt(e)=="$"&&a.charAt(e+1)!="{";)e++;for(var a=a.substring(d,e),f="",j=c.length;e-d>j++;)f+="0";return[a,f+c]})},isNumeric:b,upgradeTabstops:function(a,c){for(var b=0,e=["start","end","content"],d=function(a){return"\\"+
a},f=function(a,e,d){e=parseInt(e);e>b&&(b=e);return d?"${"+(e+c)+":"+d+"}":"$"+(e+c)},j=0,k=e.length;j<k;j++)a[e[j]]=this.processTextBeforePaste(a[e[j]],d,f);return b},getProfile:function(a){return a in E?E[a]:E.plain},getImageSize:function(a){var c=function(){return a.charCodeAt(b++)};if(a.substr(0,8)==="\u0089PNG\r\n\u001a\n"){var b=a.indexOf("IHDR")+4;return{width:c()<<24|c()<<16|c()<<8|c(),height:c()<<24|c()<<16|c()<<8|c()}}else if(a.substr(0,4)==="GIF8")return b=6,{width:c()|c()<<8,height:c()|
c()<<8};else if(a.substr(0,2)==="\u00ff\u00d8")for(var b=2,e=a.length;b<e;){if(c()!=255)break;var d=c();if(d==218)break;var f=c()<<8|c();if(d>=192&&d<=207&&!(d&4)&&!(d&8))return b+=1,{height:c()<<8|c(),width:c()<<8|c()};else b+=f-2}},getCounterForNode:function(a){var c=a.counter;if(!a.is_repeating&&!a.repeat_by_lines)for(;a=a.parent;)if(a.is_repeating||a.repeat_by_lines)return a.counter;return c},processTextBeforePaste:function(a,c,b){for(var e=0,d=a.length,f,j,k=[],l=function(c,b){for(;c<d;)if(!b(a.charAt(c++)))break;
return c-1};e<d;){var g=a.charAt(e);if(g=="\\"&&e+1<d)k.push(c(a.charAt(e+1))),e+=2;else{if(g=="$"){f=a.charAt(e+1)||"";j=e;if(this.isNumeric(f)){if(f=e+1,e=l(f,this.isNumeric),f<e){k.push(b(j,a.substring(f,e)));continue}}else if(f=="{"){var n=1;f=e+2;e=l(f,this.isNumeric);if(e>f)if(a.charAt(e)=="}"){k.push(b(j,a.substring(f,e)));e++;continue}else if(a.charAt(e)==":"){g=e+2;e=l(g,function(a){a=="{"?n++:a=="}"&&n--;return!!n});k.push(b(j,a.substring(f,g-2),a.substring(g-1,e)));e++;continue}}e=j}k.push(g);
e++}}return k.join("")}}}();g.registerAction("expand_abbreviation",H);g.registerAction("expand_abbreviation_with_tab",function(b,a,e){a=String(a||b.getSyntax());e=String(e||b.getProfileName());H(b,a,e)||b.replaceContent(g.getVariable("indentation"),b.getCaretPos())});g.registerAction("match_pair",F);g.registerAction("match_pair_inward",function(b){F(b,"in")});g.registerAction("match_pair_outward",function(b){F(b,"out")});g.registerAction("wrap_with_abbreviation",function(b,a,e,d){var e=String(e||
b.getSyntax()),d=String(d||b.getProfileName()),a=a||b.prompt("Enter abbreviation"),f=b.getSelectionRange(),n=f.start,f=f.end,c=String(b.getContent());if(!a||typeof a=="undefined")return null;a=String(a);if(n==f){f=g.html_matcher(c,n,d);if(!f||f[0]==-1)return null;f=y(c,f[0],f[1]);n=f[0];f=f[1]}c=g.escapeText(c.substring(n,f));if(a=g.wrapWithAbbreviation(a,G(c,A(b.getCurrentLine())),e,d))b.setCaretPos(f),b.replaceContent(a,n,f)});g.registerAction("prev_edit_point",function(b){var a=b.getCaretPos(),
e=u(b,-1);e==a&&(e=u(b,-1,-2));e!=-1&&b.setCaretPos(e)});g.registerAction("next_edit_point",function(b){var a=u(b,1);a!=-1&&b.setCaretPos(a)});g.registerAction("insert_formatted_line_break",function(b){if(!I(b)){for(var a=A(b.getCurrentLine()),e=String(b.getContent()),d=b.getCaretPos(),f=e.length,n=g.getNewline(),c="",k=b.getCurrentLineRange().end+1,i;k<f;k++)if(i=e.charAt(k),i==" "||i=="\t")c+=i;else break;c.length>a.length?b.replaceContent(n+c,d,d,!0):b.replaceContent(n,d)}});g.registerAction("insert_formatted_line_break_only",
I);g.registerAction("select_line",function(b){var a=b.getCurrentLineRange();b.createSelection(a.start,a.end)});g.registerAction("matching_pair",function(b){var a=String(b.getContent()),e=b.getCaretPos();a.charAt(e)=="<"&&e++;var d=g.html_matcher.getTags(a,e,String(b.getProfileName()));d&&d[0]&&(a=d[0],(d=d[1])&&(a.start<=e&&a.end>=e?b.setCaretPos(d.start):d.start<=e&&d.end>=e&&b.setCaretPos(a.start)))});g.registerAction("merge_lines",function(b){var a=b.getSelectionRange();if(a.start==a.end){var e=
g.html_matcher(String(b.getContent()),b.getCaretPos(),String(b.getProfileName()));if(e)a.start=e[0],a.end=e[1]}if(a.start!=a.end){for(var e=String(b.getContent()).substring(a.start,a.end),e=g.splitByLines(e),d=1;d<e.length;d++)e[d]=e[d].replace(/^\s+/,"");e=e.join("").replace(/\s{2,}/," ");b.replaceContent(e,a.start,a.end);b.createSelection(a.start,a.start+e.length)}});g.registerAction("toggle_comment",function(b){var a=String(b.getSyntax());if(a=="css"){var e=b.getCaretPos(),d=g.html_matcher.getTags(String(b.getContent()),
e);d&&d[0]&&d[0].type=="tag"&&d[0].start<=e&&d[0].end>=e&&(a="html")}switch(a){case "css":a=b.getSelectionRange();if(a.start==a.end)a=b.getCurrentLineRange(),e=y(String(b.getContent()),a.start,a.end),a.start=e[0],a.end=e[1];return h(b,"/*","*/",a.start,a.end);default:a=b.getSelectionRange();e=String(b.getContent());if(a.start==a.end&&(e=g.html_matcher.getTags(e,b.getCaretPos(),String(b.getProfileName())))&&e[0])a.start=e[0].start,a.end=e[1]?e[1].end:e[0].end;return h(b,"<\!--","--\>",a.start,a.end)}});
g.registerAction("split_join_tag",function(b,a){var e=b.getCaretPos(),d=g.getProfile(String(a||b.getProfileName())),f=g.getCaretPlaceholder(),n=g.html_matcher.getTags(String(b.getContent()),e,String(b.getProfileName()));if(n&&n[0]){var c=n[0].full_tag;if(n[1]){var k=" /";d.self_closing_tag===!0&&(k="/");c=c.replace(/\s*>$/,k+">");c.length+n[0].start<e?c+=f:(d=e-n[0].start,c=c.substring(0,d)+f+c.substring(d));b.replaceContent(c,n[0].start,n[1].end)}else e=g.getNewline(),k=g.getVariable("indentation"),
f=d.tag_nl===!0?e+k+f+e:f,c=c.replace(/\s*\/>$/,">")+f+"</"+n[0].name+">",b.replaceContent(c,n[0].start,n[0].end);return!0}else return!1});g.registerAction("remove_tag",function(b){var a,e,d=b.getCaretPos(),f=String(b.getContent());if((d=g.html_matcher.getTags(f,d,String(b.getProfileName())))&&d[0]){if(d[1]){var n=y(f,d[0].end,d[1].start),c=n[0];a=f.length;var k=0;e=a-1;for(var i=c-1;i>0;i--){var j=f.charAt(i);if(j=="\n"||j=="\r"){k=i+1;break}}for(;c<a;c++)if(j=f.charAt(c),j=="\n"||j=="\r"){e=c;break}a=
k;e=A(f.substring(a,e));f=f.substring(n[0],n[1]);f=G(f,e);b.replaceContent(g.getCaretPlaceholder()+f,d[0].start,d[1].end)}else b.replaceContent(g.getCaretPlaceholder(),d[0].start,d[0].end);return!0}else return!1});g.registerAction("encode_decode_data_url",function(b){var a=String(b.getSelection()),e=b.getCaretPos();if(!a)for(var d=String(b.getContent());e-- >=0;)if(m("src=",d,e)){if(d=d.substr(e).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))a=d[3],e+=d[1].length;break}else if(m("url(",d,e)){if(d=d.substr(e).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))a=
d[3],e+=d[1].length;break}if(a)if(m("data:",a))if(d=String(b.prompt("Enter path to file (absolute or relative)"))){var f=zen_file.createPath(b.getFilePath(),d);if(!f)throw"Can't save file";zen_file.save(f,base64.decode(a.replace(/^data\:.+?;.+?,/,"")));b.replaceContent("$0"+d,e,e+a.length);b=!0}else b=!1;else{d=b.getFilePath();if(d===null)throw"You should save your file before using this action";d=zen_file.locateFile(d,a);if(d===null)throw"Can't find "+a+" file";f=base64.encode(String(zen_file.read(d)));
if(!f)throw"Can't encode file content to base64";f="data:"+(base64.mime_types[String(zen_file.getExt(d))]||"application/octet-stream")+";base64,"+f;b.replaceContent("$0"+f,e,e+a.length);b=!0}else b=!1;return b});g.registerAction("increment_number_by_1",function(b){return p(b,1)});g.registerAction("decrement_number_by_1",function(b){return p(b,-1)});g.registerAction("increment_number_by_10",function(b){return p(b,10)});g.registerAction("decrement_number_by_10",function(b){return p(b,-10)});g.registerAction("increment_number_by_01",
function(b){return p(b,0.1)});g.registerAction("decrement_number_by_01",function(b){return p(b,-0.1)});g.registerAction("evaluate_math_expression",function(b){var a=String(b.getContent()),e=q(b,function(a){return g.isNumeric(a)||".+-*/\\".indexOf(a)!=-1});if(e){a=a.substring(e[0],e[1]);a=a.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{var d=(new Function("return "+a))(),d=t(d);b.replaceContent(d,e[0],e[1]);b.setCaretPos(e[0]+d.length);return!0}catch(f){}}return!1});(function(){function b(a){if(!a||
a!="html")a="xhtml";s=a}function a(a,c){var b=a[1].toLowerCase();return{name:b,full_tag:a[0],start:c,end:c+a[0].length,unary:Boolean(a[3])||b in j&&s=="html",has_close:Boolean(a[3]),type:"tag",close_self:b in r&&s=="html"}}function e(a,c){return{start:a,end:c,type:"comment"}}function d(a){for(var c={},a=a.split(","),b=0;b<a.length;b++)c[a[b]]=!0;return c}function f(a,c,b){var b=b||0,e=-1,d=-1;if(a&&!c)e=a.start,d=a.end;else if(a&&c)a.start<b&&a.end>b||c.start<=b&&c.end>b?(e=a.start,d=c.end):(e=a.end,
d=c.start);return[e,d]}function n(a,c,b){o.opening_tag=a;o.closing_tag=c;a=f(a,c,b||0);o.start_ix=a[0];o.end_ix=a[1];return o.start_ix!=-1?[o.start_ix,o.end_ix]:null}function c(c,d,j,g){function n(a,b){arguments.length==1&&(b=p);return c.substr(b,a.length)==a}function l(a){for(;a--;)if(c.charAt(a)=="<"&&n("<\!--",a))break;return a}g=g||f;b(j);var j=[],r=[],h=null,o=null,s=c.length,m,p;j.last=r.last=function(){return this[this.length-1]};for(p=d;p--&&p>=0;)if(m=c.charAt(p),m=="<"){var q=c.substring(p,
s);if(m=q.match(i))m=a(m,p),m.start<d&&m.end>d?o=m:r.push(m);else if(m=q.match(k))if(m=a(m,p),m.unary){if(m.start<d&&m.end>d)return g(m,null,d)}else if(r.last()&&r.last().name==m.name)r.pop();else{h=m;break}else if(q.indexOf("<\!--")==0&&(m=q.search("--\>")+p+3,p<d&&m>=d))return g(e(p,m))}else m=="-"&&n("--\>")&&(p=l(p));if(!h)return g(null);if(!o)for(p=d;p<s;p++)if(m=c.charAt(p),m=="<")if(q=c.substring(p,s),m=q.match(k))m=a(m,p),m.unary||j.push(m);else if(m=q.match(i))if(m=a(m,p),j.last()&&j.last().name==
m.name)j.pop();else{o=m;break}else n("<\!--")&&(p+=q.search("--\>")+2);else if(m=="-"&&n("--\>")&&(!j.last()||j.last().type!="comment"))return m=p+3,g(e(l(p),m));return g(h,o,d)}var k=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([\w\:\-]+)[^>]*>/,j=d("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");d("address,applet,blockquote,button,center,dd,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");
d("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var r=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),s="xhtml",o={opening_tag:null,closing_tag:null,start_ix:-1,end_ix:-1},h=function(a,b,e){return c(a,b,e,n)};h.start_tag=k;h.end_tag=i;h.find=function(a,b,e){return c(a,b,e)};h.getTags=function(a,b,e){return c(a,b,e,function(a,c){return[a,c]})};h.last_match=
o;try{g.html_matcher=h}catch(m){}})();(function(){function b(a,e){if(e.tag_nl===!1)return a;for(var d=0,f=a.children.length;d<f;d++){var n=a.children[d];if(n.isBlock()){var c=n,k=c.getAttribute("id"),i=c.getAttribute("class"),j=g.getNewline();if(k||i){var r="",h=c.parent?c.parent.padding:"";k&&(r+="#"+k);i&&(r+="."+i);c.start=c.start.replace(/</,"<\!-- "+r+" --\>"+j+h+"<");c.end=c.end.replace(/>/,">"+j+h+"<\!-- /"+r+" --\>");k=g.getCounterForNode(c);c.start=g.replaceCounter(c.start,k);c.end=g.replaceCounter(c.end,
k)}}b(n,e)}return a}g.registerFilter("c",b)})();(function(){function b(e,d){for(var f=0,g=e.children.length;f<g;f++){var c=e.children[f];if(c.type=="snippet"&&a.test(c.real_name))c.start=c.start.replace(/(;?)$/," !important$1");b(c,d)}return e}var a=/(.+)\!$/;g.registerFilter("css",b)})();(function(){function b(a){return a.replace(/([<>&])/g,function(a,b){return e[b]})}function a(e){for(var d=0,g=e.children.length;d<g;d++){var c=e.children[d];c.start=b(c.start);c.end=b(c.end);a(c)}return e}var e=
{"<":"&lt;",">":"&gt;","&":"&amp;"};g.registerFilter("e",a)})();(function(){function b(a,e){for(var d=0,f=a.children.length;d<f;d++){var g=a.children[d];if(g.type=="snippet")g.start=g.start.replace(/([\w\-]+\s*:)(?!:)\s*/,"$1 ");b(g,e)}return a}g.registerFilter("fc",b)})();(function(){function b(){return v.getVariable("indentation")}function a(a){return a.parent&&!a.parent.parent&&!a.previousSibling}function e(a,c){if(!c.inline_break)return!1;for(;a.previousSibling&&a.previousSibling.isInline();)a=
a.previousSibling;if(!a.isInline())return!1;for(var b=1;a=a.nextSibling;)a.type=="text"||!a.isInline()?b=0:a.isInline()&&b++;return b>=c.inline_break}function d(f,n,j){if(!f.name)return f;f.start=f.end=c;var i=f.isUnary()&&!f.children.length;if(n.tag_nl!==!1){var j=f.parent?f.parent.padding:g.repeatString(b(),j),h=n.tag_nl===!0,l=e(f,n);if(f.type!="text"){if((f.isBlock()||l)&&f.parent||h){if(!f.parent||f.parent.type!="snippet"&&!a(f))f.start=g.getNewline()+j+f.start;if(f.hasBlockChildren()||f.children.length&&
e(f.children[0],n)||h&&!i)f.end=g.getNewline()+j+f.end;if(f.hasTagsInContent()||h&&!f.hasChildren()&&!i)f.start+=g.getNewline()+j+b()}else if(f.isInline()&&f.parent&&f.parent.hasBlockChildren()&&!a(f))f.start=g.getNewline()+j+f.start;else if(f.isInline()&&f.hasBlockChildren())f.end=g.getNewline()+j+f.end;f.padding=j+b()}}return f}function f(e,i,j){for(var j=j||0,h=0,s=e.children.length;h<s;h++){var o=e.children[h];if(o.type=="tag")o=d(o,i,j);else{var m=j,p=o.source.value;if(p){o.start=o.end=c;m=o.parent?
o.parent.padding:g.repeatString(b(),m);if(!a(o))o.start=g.getNewline()+m+o.start;var p=p.split(n),q=g.splitByLines(p[0]||""),p=b();q.length>1&&(q=q[q.length-1].match(/^(\s+)/))&&(p=q[1]);o.padding=m+p}else o=d(o,i,m)}if(o.content)o.content=g.padString(o.content,o.padding);f(o,i,j+1)}return e}var n="${child}",c="%s";g.registerFilter("_format",f)})();(function(){function b(b,e,c){var k=b.source.value;if(!k)return a(b,e,c);e=k.split(d);c=e[1]||"";k=b.parent?b.parent.padding:"";b.start=b.start.replace("%s",
g.padString(e[0]||"",k));b.end=b.end.replace("%s",g.padString(c,k));e=function(a,c){return c=="id"||c=="class"?b.getAttribute(c):a};b.start=g.replaceVariables(b.start,e);b.end=g.replaceVariables(b.end,e);return b}function a(a,b){if(!a.name)return a;var c,e="",d=b.attr_quotes=="single"?"'":'"';c=b.place_cursor?g.getCaretPlaceholder():"";var j,i,h;for(i=0;i<a.attributes.length;i++)switch(h=a.attributes[i],h.name.toLowerCase()){case "id":e+="#"+(h.value||c);break;case "class":e+="."+(h.value||c)}var l=
[];for(i=0;i<a.attributes.length;i++)h=a.attributes[i],j=h.name.toLowerCase(),j!="id"&&j!="class"&&(j=b.attr_case=="upper"?h.name.toUpperCase():j,l.push(":"+j+" => "+d+(h.value||c)+d));l.length&&(e+="{"+l.join(", ")+"}");c=e;e=b.place_cursor?g.getCaretPlaceholder():"";i="";d=a.isUnary()&&!a.children.length;h="";b.self_closing_tag&&d&&(i="/");h="%"+(b.tag_case=="upper"?a.name.toUpperCase():a.name.toLowerCase());h.toLowerCase()=="%div"&&c&&c.indexOf("{")==-1&&(h="");a.end="";h=h+c+i;c=a.start.indexOf("%s");
a.start=a.start.substring(0,c)+h+a.start.substring(c+2);!a.children.length&&!d&&(a.start+=e);return a}function e(d,i,c){c=c||0;c==0&&(d=g.runFilters(d,i,"_format"));for(var k=0,h=d.children.length;k<h;k++){var j=d.children[k],j=j.type=="tag"?a(j,i,c):b(j,i,c),l=g.getCounterForNode(j);j.start=g.unescapeText(g.replaceCounter(j.start,l));j.end=g.unescapeText(g.replaceCounter(j.end,l));e(j,i,c+1)}return d}var d="${child}";g.registerFilter("haml",e)})();(function(){function b(a,b){switch(String(b||"").toLowerCase()){case "lower":return a.toLowerCase();
case "upper":return a.toUpperCase()}return a}function a(a,b,d){var j=a.source.value;if(!j)return e(a,b,d);b=j.split(f);d=b[1]||"";j=a.parent?a.parent.padding:"";a.start=a.start.replace("%s",g.padString(b[0]||"",j));a.end=a.end.replace("%s",g.padString(d,j));b=function(b,e){return e=="id"||e=="class"?a.getAttribute(e):b};a.start=g.replaceVariables(a.start,b);a.end=g.replaceVariables(a.end,b);return a}function e(a,e){if(!a.name)return a;var d,f="",i=e.attr_quotes=="single"?"'":'"',h=e.place_cursor?
g.getCaretPlaceholder():"",l;for(d=0;d<a.attributes.length;d++){var n=a.attributes[d];l=b(n.name,e.attr_case);f+=" "+l+"="+i+(n.value||h)+i}d=f;f=e.place_cursor?g.getCaretPlaceholder():"";n="";i=a.isUnary()&&!a.children.length;l=h="";e.self_closing_tag=="xhtml"?n=" /":e.self_closing_tag===!0&&(n="/");if(a.type!="text"){var m=b(a.name,e.tag_case);i?(h="<"+m+d+n+">",a.end=""):(h="<"+m+d+">",l="</"+m+">")}d=a.start.indexOf("%s");a.start=a.start.substring(0,d)+h+a.start.substring(d+2);d=a.end.indexOf("%s");
a.end=a.end.substring(0,d)+l+a.end.substring(d+2);!a.children.length&&!i&&a.content.indexOf(f)==-1&&(a.start+=f);return a}function d(b,f,h){h=h||0;h==0&&(b=g.runFilters(b,f,"_format"),i=0);for(var j=0,m=b.children.length;j<m;j++){var s=b.children[j],s=s.type=="tag"?e(s,f,h):a(s,f,h),o=g.getCounterForNode(s);s.start=g.unescapeText(g.replaceCounter(s.start,o));s.end=g.unescapeText(g.replaceCounter(s.end,o));s.content=g.unescapeText(g.replaceCounter(s.content,o));i+=g.upgradeTabstops(s,i)+1;d(s,f,h+
1)}return b}var f="${child}",i=0;g.registerFilter("html",d)})();(function(){function b(a){for(var e=0,d=a.children.length;e<d;e++){var f=a.children[e];if(f.type=="tag"){var g=/^\s+/;f.start=f.start.replace(g,"");f.end=f.end.replace(g,"")}g=/[\n\r]/g;f.start=f.start.replace(g,"");f.end=f.end.replace(g,"");f.content=f.content.replace(g,"");b(f)}return a}g.registerFilter("s",b)})();(function(){function b(a){for(var e=0,d=a.children.length;e<d;e++){var f=a.children[e];if(f.content)f.content=f.content.replace(/^([\s|\u00a0])?[\d|#|\-|\*|\u2022]+\.?\s*/,
"$1");b(f)}return a}g.registerFilter("t",b)})();(function(){function b(e){for(var d=0,f=e.children.length;d<f;d++){var g=e.children[d];if(g.type=="tag"&&g.name.toLowerCase()in a&&g.children.length)g.start=g.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"");b(g)}}var a={"xsl:variable":1,"xsl:with-param":1};g.registerFilter("xsl",b)})();var K=function(){var b=!!window.opera,a=/mac\s+os/i.test(navigator.userAgent),d={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":",
"'":'"',",":"<",".":">","/":"?","\\":"|"},g={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,plus:187,minus:189,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},f={ctrl:"\u2303",control:"\u2303",
meta:"\u2318",shift:"\u21e7",alt:"\u2325",enter:"\u23ce",tab:"\u21e5",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193"},i={meta:"Ctrl",control:"Ctrl",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193"};return{compile:function(c){if(typeof c!="string")return c;for(var d=0,c=c.toLowerCase().split("+"),e,f,g=0,i=c.length;g<i;g++)f=c[g],a&&b?f=="ctrl"||f=="control"?f="meta":f=="meta"&&(f="ctrl"):!a&&f=="meta"&&(f="ctrl"),f=="ctrl"||f=="control"?d|=2:f=="shift"?d|=1:f=="alt"?d|=4:f=="meta"?d|=
8:e=f;return{mask:d,key:e}},test:function(a,b){var f=0,j=this.compile(a);b.ctrlKey&&(f|=2);b.shiftKey&&(f|=1);b.altKey&&(f|=4);b.metaKey&&(f|=8);var i=b.keyCode?b.keyCode:b.which,h=String.fromCharCode(i).toLowerCase();if(f!==j.mask)return!1;if(j.key.length>1)return g[j.key]==i;else{i==188&&(h=",");i==190&&(h=".");i==191&&(h="/");if(h==j.key)return!0;if(b.shiftKey&&d[h])return d[h]==j.key}return!1},format:function(b){for(var d=a?f:i,e=a?"":"+",b=b.toLowerCase().split("+"),j=[],g,h=0;h<b.length;h++)g=
b[h],j.push(g in d?d[g]:g.charAt().toUpperCase()+g.substring(1));return j.join(e)}}}(),L=function(){function b(){for(var a=0,b=c.lineNumber(c.cursorLine())-1;b>0;)a+=(c.lineContent(c.nthLine(b))||"").length+1,b--;return a}function a(a){return(a.match(/^(\s+)/)||[""])[0]}function d(a){var b=0,c=a.indexOf(g.getCaretPlaceholder()),e={};c!=-1?a=a.split(g.getCaretPlaceholder()).join(""):c=a.length;a=g.processTextBeforePaste(a,function(a){return a},function(a,d,f){f&&(e[d]=f);if(a<c&&(c=a,f))b=f.length;
return e[d]||""});return[a,c,c+b]}function i(){}function f(a){for(var b=0,d=0,e=1,f=c.lineNumber(c.lastLine());e<=f;e++){d=b+(c.lineContent(c.nthLine(e))||"").length;if(b<=a&&a<=d)return{line:c.nthLine(e),character:a-b};b=d+1}return null}function h(a,b,c){m[a.toLowerCase()]={compiled:K.compile(a),label:b,action:(c||b).replace(/(^\s+|\s+$)/g,"").replace(/[\s\\\/]+/g,"_").replace(/\./g,"").toLowerCase()}}var c,k={balance_tag_inward:"match_pair_inward",balance_tag_outward:"match_pair_outward",previous_edit_point:"prev_edit_point",
pretty_break:"insert_formatted_line_break"},m={};h("Meta+E","Expand Abbreviation");h("Tab","Expand Abbreviation");h("Meta+D","Balance Tag Outward");h("Shift+Meta+D","Balance Tag inward");h("Shift+Meta+A","Wrap with Abbreviation");h("Ctrl+Alt+RIGHT","Next Edit Point");h("Ctrl+Alt+LEFT","Previous Edit Point");h("Meta+L","Select Line");h("Meta+Shift+M","Merge Lines");h("Meta+/","Toggle Comment");h("Meta+J","Split/Join Tag");h("Meta+K","Remove Tag");h("Meta+Y","Evaluate Math Expression");h("Ctrl+UP",
"Increment number by 1");h("Ctrl+DOWN","Decrement number by 1");h("Alt+UP","Increment number by 0.1");h("Alt+DOWN","Decrement number by 0.1");h("Ctrl+Alt+UP","Increment number by 10");h("Ctrl+Alt+DOWN","Decrement number by 10");h("Meta+.","Select Next Item");h("Meta+,","Select Previous Item");h("Meta+B","Reflect CSS Value");return{bind:function(a){var b=this;a.grabKeys(i,function(c,d){if(d.type=="keydown"){b.setContext(a);var e;a:{for(var f in m)if(m.hasOwnProperty(f)&&(e=m[f],K.test(e.compiled,d))){d.preventDefault();
e=k[e.action]||e.action;f=g.runAction(e,[L]);e=e=="expand_abbreviation"?f:!0;break a}e=!1}return e}})},setContext:function(a){c=a;g.setVariable("indentation",g.repeatString(" ",c.options.indentUnit))},getSelectionRange:function(){var a=this.getCaretPos();return{start:a,end:a+this.getSelection().length}},createSelection:function(a,b){var d=f(a);if(a==b)c.selectLines(d.line,d.character);else{var e=f(b);c.selectLines(d.line,d.character,e.line,e.character)}},getCurrentLineRange:function(){var a=this.getCurrentLine().length,
c=b();return{start:c,end:c+a}},getCaretPos:function(){return c.cursorPosition().character+b()},setCaretPos:function(a){this.createSelection(a,a)},getCurrentLine:function(){return c.lineContent(c.cursorLine())||""},replaceContent:function(b,f,h){this.getCaretPos();f=typeof f!=="undefined"?f:0;h=typeof h!=="undefined"?h:this.getContent().length;b=g.padString(b,a(this.getCurrentLine()));c.win.asEditorLines&&(b=c.win.asEditorLines(b).join(g.getNewline()));var i=d(b),b=i[0],f=f||0;i[1]!==-1?(i[1]+=f,i[2]+=
f):i[1]=i[2]=b.length+f;try{this.createSelection(f,h),c.editor.replaceSelection(b),this.createSelection(i[1],i[2])}catch(k){}},getContent:function(){return c.getCode()},getSyntax:function(){var a=c.options.syntax||"",b=this.getCaretPos();v.hasSyntax(a)||(a="html");if(a=="html"){var d=g.html_matcher.getTags(this.getContent(),b);d&&d[0]&&d[0].type=="tag"&&d[0].name.toLowerCase()=="style"&&d[0].end<=b&&d[1].start>=b&&(a="css")}return a},getProfileName:function(){if(c.options.profile)return c.options.profile;
switch(this.getSyntax()){case "xml":case "xsl":return"xml";case "html":var a=g.getVariable("profile");a||(a=this.getContent().search(/<!DOCTYPE[^>]+XHTML/)!=-1?"xhtml":"html");return a}return"xhtml"},prompt:function(a){return prompt(a)},getSelection:function(){return c.selection()||""},getFilePath:function(){return location.href},shortcut:h,unbindShortcut:function(a){a=a.toLowerCase();a in m&&delete m[a]},getShortcuts:function(){var a=[],b,c;for(c in m)m.hasOwnProperty(c)&&(b=c.toLowerCase(),b=="tab"||
b=="enter"||a.push({keystroke:K.format(c),compiled:m[c].compiled,label:m[c].label,action:m[c].action}));return a},getInfo:function(){for(var a="This CodeMirror editor is powered by Zen Coding project: a set of tools for fast HTML coding.\n\nAvailable shortcuts:\n",b=this.getShortcuts(),c=[],d=0;d<b.length;d++)c.push(b[d].keystroke+" \u2014 "+b[d].label);a+=c.join("\n")+"\n\n";a+="More info on http://code.google.com/p/zen-coding/";return a},showInfo:function(){alert(this.getInfo())},getCore:function(){return g},
getResourceManager:function(){return v}}}();return L}();
